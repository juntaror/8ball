<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Magic 8 Ball</title>

<style>
body {
    font-family: Arial, sans-serif;
    background: radial-gradient(circle,#1a1a1a,#000);
    height: 100vh;
    margin: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    color: white;
    overflow: hidden;
}

.sparkle {
    position: absolute;
    width: 6px;
    height: 6px;
    background: rgb(217, 255, 0);
    border-radius: 50%;
    animation: float 6s infinite linear;
}
.suggestion {
    position: absolute;
    bottom: -50px;
    background: rgba(255,255,255,0.15);
    backdrop-filter: blur(6px);
    padding: 8px 14px;
    border-radius: 20px;
    font-size: 13px;
    white-space: nowrap;
    cursor: pointer;
    animation: floatSuggestion linear forwards;
    pointer-events: auto;
}
.suggestion.pop {
    animation: pop 0.4s ease forwards;
}

@keyframes pop {
    0% { transform: scale(1); }
    50% { transform: scale(1.4); opacity: 1; }
    100% { transform: scale(0); opacity: 0; }
}

.particle {
    position: absolute;
    width: 6px;
    height: 6px;
    background: #9fd3ff;
    border-radius: 50%;
    pointer-events: none;
    animation: particle 600ms ease-out forwards;
}

@keyframes particle {
    from {
        transform: translate(0,0) scale(1);
        opacity: 1;
    }
    to {
        transform: translate(var(--x), var(--y)) scale(0);
        opacity: 0;
    }
}


@keyframes floatSuggestion {
    from {
        transform: translateY(0);
        opacity: 0;
    }
    10% { opacity: 1; }
    90% { opacity: 1; }
    to {
        transform: translateY(-120vh);
        opacity: 0;
    }
}
@keyframes float {
    from { transform: translateY(100vh); }
    to { transform: translateY(-10vh); }
}

.container {
    text-align: center;
    z-index: 2;
    width: 320px;
}

input {
    padding: 10px;
    width: 260px;
    border-radius: 20px;
    border: none;
    text-align: center;
    margin-bottom: 15px;
}

.ball {
    width: 220px;
    height: 220px;
    background: black;
    border-radius: 50%;
    margin: 20px auto;
    display: flex;
    justify-content: center;
    align-items: center;
    box-shadow: inset -15px -15px 40px rgba(255,255,255,0.15), inset 15px 15px 40px rgba(0,0,0,0.9);
}

.answer {
    width: 120px;
    height: 120px;
    background: #0b3d91;
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 14px;
    padding: 10px;
    text-align: center;
    opacity: 0;
    box-shadow: 0 0 20px #4aa3ff;
}

.shake {
    animation: shake 0.6s, bounce 0.6s;
}

@keyframes shake {
    0% { transform: rotate(0); }
    25% { transform: rotate(15deg); }
    50% { transform: rotate(-15deg); }
    75% { transform: rotate(10deg); }
    100% { transform: rotate(0); }
}

@keyframes bounce {
    0% { transform: translateY(0); }
    50% { transform: translateY(-15px); }
    100% { transform: translateY(0); }
}

.show {
    opacity: 1;
    animation: glow 1.5s infinite alternate;
}

@keyframes glow {
    from { box-shadow: 0 0 10px #4aa3ff; }
    to { box-shadow: 0 0 25px #9fd3ff; }
}

button {
    padding: 10px 30px;
    border: none;
    border-radius: 25px;
    background: #8e44ad;
    color: white;
    font-size: 16px;
    cursor: pointer;
}

button:hover {
    background: #732d91;
}

.counter { 
    margin-top: 10px;
    font-size: 13px;
    opacity: 0.8;
}

.history {
    margin-top: 15px;
    background: rgba(255,255,255,0.08);
    padding: 10px;
    border-radius: 12px;
    max-height: 140px;
    overflow-y: auto;
    font-size: 12px;
    text-align: left;
}

.history h3 {
    margin: 0 0 5px;
    font-size: 13px;
    text-align: center;
    opacity: 0.9;
}

.history ul {
    list-style: none;
    padding: 0;
    margin: 0;
}

.history li {
    margin-bottom: 6px;
    opacity: 0.85;
}

.positive {
    background: #2ecc71 !important;
    box-shadow: 0 0 25px #2ecc71 !important;
}

.negative {
    background: #e74c3c !important;
    box-shadow: 0 0 25px #e74c3c !important;
}

.maybe {
    background: #f1c40f !important;
    box-shadow: 0 0 25px #f1c40f !important;
    color: black;
}
</style>
</head>

<body>

<script>
for (let i = 0; i < 25; i++) {
    const s = document.createElement("div");
    s.className = "sparkle";
    s.style.left = Math.random() * 100 + "vw";
    s.style.animationDuration = (4 + Math.random() * 4) + "s";
    document.body.appendChild(s);
}
</script>

<div class="container">
    <h1>ðŸŽ± Magic 8 Ball</h1>

    <input type="text" id="question" placeholder="Ask your destiny...">

    <div class="ball" id="ball">
        <div class="answer" id="answer"></div>
    </div>

    <button onclick="askQuestion()">Ask the 8 Ball</button>
    <div class="counter" id="counter">Questions asked: 0</div>

    <div class="history">
        <h3>ðŸ”® History</h3>
        <ul id="historyList"></ul>
    </div>
</div>

<audio id="sound">
    <source src="https://www.soundjay.com/misc/sounds/magic-chime-02.mp3">
</audio>

<script>
let count = 0;
const historyList = document.getElementById("historyList");

const answers = {
    positive: ["OO OFC!!", "SIGURADO", "MARAMING PUSIBLE PERO OO"],
    negative: ["HINDI PO ATE!!", "DI YAN"],
    maybe: ["EWAN KO BAKA LANG", "BAKA LANG ATA MAYBE SIGURO", "KATAMAD MAYA KA NALANG MAG TANONG"]
};

function askQuestion() {
    const input = document.getElementById("question");
    const question = input.value.trim();
    const ball = document.getElementById("ball");
    const answerBox = document.getElementById("answer");
    const counter = document.getElementById("counter");
    const sound = document.getElementById("sound");

    if (!question) {
        alert("HOY MAG TANONG KA MUNA");
        return;
    }

    count++;
    counter.textContent = "Questions asked: " + count;

    answerBox.className = "answer";
    answerBox.textContent = "";

    ball.classList.add("shake");
    sound.currentTime = 0;
    sound.play();

    setTimeout(() => {
        const categories = ["positive", "negative", "maybe"];
        const category = categories[Math.floor(Math.random() * categories.length)];
        const text = answers[category][Math.floor(Math.random() * answers[category].length)];

        answerBox.classList.add(category, "show");
        typeText(answerBox, text);

        addToHistory(question, text);

        ball.classList.remove("shake");
        input.value = "";
    }, 600);
}

function addToHistory(question, answer) {
    const li = document.createElement("li");
    li.innerHTML = `<strong>Q:</strong> ${question}<br><strong>A:</strong> ${answer}`;

    historyList.prepend(li);

    if (historyList.children.length > 5) {
        historyList.removeChild(historyList.lastChild);
    }
}

function typeText(el, text) {
    let i = 0;
    el.textContent = "";
    const interval = setInterval(() => {
        el.textContent += text[i++];
        if (i >= text.length) clearInterval(interval);
    }, 40);
}

document.getElementById("question").addEventListener("keydown", e => {
    if (e.key === "Enter") askQuestion();
});
const suggestions = [
    "Crush ba niya ako?",
    "Papasa ba ako?",
    "Magiging mayaman ba ako?",
    "Tama ba desisyon ko?",
    "May pag-asa pa ba?",
    "Should I text them?",
    "Makakapasa ba ako sa exam?",
    "Magiging okay ba lahat?",
    "May mangyayaring maganda today?"
];

function spawnSuggestion() {
    const bubble = document.createElement("div");
    bubble.className = "suggestion";
    bubble.textContent = suggestions[Math.floor(Math.random() * suggestions.length)];

    bubble.style.left = Math.random() * 70 + 10 + "vw";
    bubble.style.animationDuration = (12 + Math.random() * 6) + "s";

    bubble.onclick = (e) => {
        document.getElementById("question").value = bubble.textContent;

        bubble.classList.add("pop");

        createParticles(e.clientX, e.clientY);

        setTimeout(() => bubble.remove(), 400);
    };

    document.body.appendChild(bubble);

    setTimeout(() => bubble.remove(), 20000);
}
function createParticles(x, y) {
    for (let i = 0; i < 8; i++) {
        const p = document.createElement("div");
        p.className = "particle";

        const angle = Math.random() * Math.PI * 2;
        const distance = 30 + Math.random() * 30;

        p.style.left = x + "px";
        p.style.top = y + "px";
        p.style.setProperty("--x", Math.cos(angle) * distance + "px");
        p.style.setProperty("--y", Math.sin(angle) * distance + "px");

        document.body.appendChild(p);
        setTimeout(() => p.remove(), 600);
    }
}

setInterval(spawnSuggestion, 3500);
</script>

</body>
</html>
